#!/bin/bash
# Author: Kevin Hira

# Import common script
[[ -f ~/.bashrc_common ]] && source ~/.bashrc_common
test -f "${HOME}/bin/_ignite_completion" && source "${HOME}/bin/_ignite_completion"
test -e "${HOME}/.iterm2_shell_integration.bash" && source "${HOME}/.iterm2_shell_integration.bash"

# PATH Setting
PATH="$PATH:/opt/local/bin:/opt/local/sbin" # MacPorts
PATH="$HOME/bin:$PATH" # Custom bin folders
PATH="$PATH:~/Library/Python/3.6/bin"
PATH="$PATH:/System/Library/Frameworks/Python.framework/Versions/2.7/bin"
export PATH

# Profile loading
alias .b='. ~/.bash_profile'
function reloadprofile {
    source ~/.bash_profile
}

# Visual Studio Code
function vscode {
    ARG="$@"
    if [[ "$ARG" == "" ]]; then
        ARG="."
    fi
    open -a /Applications/Visual\ Studio\ Code.app "$ARG"
}
alias vsc='vscode'

# Better ls
alias lsa='ls -plaTh'
alias ll='lsa'

alias sslping=': | openssl s_client -showcerts -connect'

# Get CPU Model
alias cpu_model='sysctl -n machdep.cpu.brand_string'

export RBENV_ROOT="$HOME/.rbenv"
if [ -d $RBENV_ROOT ]; then
  export PATH="$RBENV_ROOT/bin:$PATH"
  eval "$(rbenv init -)"
fi


function mvn {
    sandbox=""
    if [[ "$1" == '--sandbox' ]]; then
        sandbox="_sandbox"
        shift
    fi

    if [[ "$(pwd)" =~ /Users/kevinhi/dsm/solutions/healthcare-provider-directory* ]]; then
        echo "Executing HPD Maven" >&2
        /usr/local/bin/mvn -Drun.profiles=enableswagger,kevinhi,authentication$sandbox $@
    else
        /usr/local/bin/mvn $@
    fi
}
